<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>JoeMac Avatar</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: transparent !important;
    -webkit-app-region: no-drag;
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }

  #app {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    padding-bottom: 10px;
    position: relative;
    user-select: none;
    background: transparent !important;
  }

  /* ─── Speech bubble ─── */
  #speech-bubble {
    position: absolute;
    bottom: calc(100% - 20px);
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.96);
    color: #1a1a2e;
    border-radius: 14px;
    padding: 10px 14px;
    max-width: 250px;
    width: max-content;
    font-size: 13px;
    font-weight: 500;
    line-height: 1.4;
    word-wrap: break-word;
    white-space: pre-wrap;
    box-shadow: 0 4px 20px rgba(0,0,0,0.18), 0 1px 4px rgba(0,0,0,0.10);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 100;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.12));
  }
  #speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0; height: 0;
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-top: 9px solid rgba(255,255,255,0.96);
  }
  #speech-bubble.visible { opacity: 1; }

  /* ─── BMO container ─── */
  #bmo-wrapper {
    position: relative;
    width: 280px;
    height: 420px;
    -webkit-app-region: drag;
    cursor: grab;
  }
  #bmo-wrapper:active { cursor: grabbing; }
  #bmo-wrapper svg { width: 100%; height: 100%; overflow: visible; }

  /* ─── IDLE float ─── */
  @keyframes bmo-float {
    0%, 100% { transform: translateY(0px) scaleY(1); }
    40%      { transform: translateY(-7px) scaleY(1.01); }
    60%      { transform: translateY(-5px) scaleY(1.01); }
  }
  #bmo-wrapper {
    animation: bmo-float 4s ease-in-out infinite;
    transform-origin: center bottom;
  }

  /* ─── WAVE ─── */
  @keyframes arm-wave {
    0%   { transform: rotate(0deg); }
    15%  { transform: rotate(-60deg); }
    30%  { transform: rotate(-20deg); }
    45%  { transform: rotate(-65deg); }
    60%  { transform: rotate(-25deg); }
    75%  { transform: rotate(-60deg); }
    100% { transform: rotate(0deg); }
  }
  #right-arm.wave {
    animation: arm-wave 0.6s ease-in-out 3;
    transform-origin: 170px 100px;
  }

  /* ─── THINKING ─── */
  @keyframes bmo-think {
    0%, 100% { transform: translateY(0px); }
    50%      { transform: translateY(-3px); }
  }
  #bmo-wrapper.thinking { animation: bmo-think 1.5s ease-in-out infinite; }

  @keyframes arm-think {
    0%, 100% { transform: rotate(0deg); }
    50%      { transform: rotate(40deg) translateY(-10px); }
  }
  #left-arm.thinking {
    animation: arm-think 1.5s ease-in-out infinite;
    transform-origin: 30px 100px;
  }

  @keyframes eye-look-side {
    0%, 100% { transform: translateX(0); }
    50%      { transform: translateX(3px); }
  }
  #bmo-wrapper.thinking #left-eye,
  #bmo-wrapper.thinking #right-eye {
    animation: eye-look-side 1.5s ease-in-out infinite;
  }

  /* ─── SPEAKING ─── */
  @keyframes bmo-speak-bob {
    0%, 100% { transform: translateY(0px); }
    25%      { transform: translateY(-3px); }
    75%      { transform: translateY(-1px); }
  }
  #bmo-wrapper.speaking { animation: bmo-speak-bob 0.35s ease-in-out infinite; }

  @keyframes arm-gesture-left {
    0%, 100% { transform: rotate(0deg); }
    30%      { transform: rotate(-18deg); }
    60%      { transform: rotate(12deg); }
  }
  @keyframes arm-gesture-right {
    0%, 100% { transform: rotate(0deg); }
    30%      { transform: rotate(18deg); }
    60%      { transform: rotate(-12deg); }
  }
  #bmo-wrapper.speaking #left-arm {
    animation: arm-gesture-left 0.6s ease-in-out infinite;
    transform-origin: 30px 100px;
  }
  #bmo-wrapper.speaking #right-arm {
    animation: arm-gesture-right 0.6s ease-in-out 0.1s infinite;
    transform-origin: 170px 100px;
  }

  @keyframes screen-glow {
    0%, 100% { filter: brightness(1) drop-shadow(0 0 3px rgba(120,230,200,0.3)); }
    50%      { filter: brightness(1.1) drop-shadow(0 0 8px rgba(120,230,200,0.6)); }
  }
  #bmo-wrapper.speaking #screen { animation: screen-glow 0.5s ease-in-out infinite; }

  /* ─── HAPPY ─── */
  @keyframes bmo-bounce {
    0%, 100% { transform: translateY(0px) scale(1); }
    30%      { transform: translateY(-14px) scale(1.03); }
    50%      { transform: translateY(-8px) scale(1.02); }
    70%      { transform: translateY(-16px) scale(1.03); }
  }
  #bmo-wrapper.happy { animation: bmo-bounce 0.6s ease-in-out 2; }

  @keyframes arms-happy-left {
    0%, 100% { transform: rotate(0deg); }
    40%      { transform: rotate(60deg) translateY(-12px); }
    70%      { transform: rotate(50deg) translateY(-10px); }
  }
  @keyframes arms-happy-right {
    0%, 100% { transform: rotate(0deg); }
    40%      { transform: rotate(-60deg) translateY(-12px); }
    70%      { transform: rotate(-50deg) translateY(-10px); }
  }
  #bmo-wrapper.happy #left-arm {
    animation: arms-happy-left 0.6s ease-in-out 2;
    transform-origin: 30px 100px;
  }
  #bmo-wrapper.happy #right-arm {
    animation: arms-happy-right 0.6s ease-in-out 2 0.05s;
    transform-origin: 170px 100px;
  }

  /* ─── BLINK ─── */
  @keyframes blink {
    0%, 90%, 100% { transform: scaleY(1); }
    95%           { transform: scaleY(0.05); }
  }
  .blinking {
    animation: blink 0.18s ease-in-out;
    transform-origin: center;
  }
</style>
</head>
<body>
<div id="app">
  <div id="speech-bubble"></div>

  <div id="bmo-wrapper">
    <svg viewBox="0 0 200 380" xmlns="http://www.w3.org/2000/svg" id="bmo-svg">
      <defs>
        <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#5ee8ca" />
          <stop offset="100%" stop-color="#4cd4b4" />
        </linearGradient>
        <linearGradient id="sideGrad" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#3cb89a" />
          <stop offset="100%" stop-color="#34a88c" />
        </linearGradient>
        <linearGradient id="screenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#aaf0dc" />
          <stop offset="100%" stop-color="#8ae8cc" />
        </linearGradient>
        <linearGradient id="topGrad" x1="0%" y1="100%" x2="0%" y2="0%">
          <stop offset="0%" stop-color="#5ee8ca" />
          <stop offset="100%" stop-color="#70f0d6" />
        </linearGradient>
      </defs>

      <!-- ═══ LEFT ARM (long, noodle-like, hangs to mid-thigh) ═══ -->
      <g id="left-arm">
        <path d="M28,104 Q10,120 6,150 Q2,175 10,195" stroke="#42c8a6" stroke-width="9" fill="none" stroke-linecap="round"/>
        <ellipse cx="11" cy="198" rx="8" ry="6" fill="#4cd4b4" stroke="#2c9a7e" stroke-width="1.5"/>
      </g>

      <!-- ═══ RIGHT ARM (long, noodle-like) ═══ -->
      <g id="right-arm">
        <path d="M172,104 Q190,120 194,150 Q198,175 190,195" stroke="#42c8a6" stroke-width="9" fill="none" stroke-linecap="round"/>
        <ellipse cx="189" cy="198" rx="8" ry="6" fill="#4cd4b4" stroke="#2c9a7e" stroke-width="1.5"/>
      </g>

      <!-- ═══ BODY (3D box perspective) ═══ -->
      <g id="body">
        <!-- Right side panel (wider for better 3D) -->
        <path d="M155,22 L185,10 L185,238 L155,250 Z" fill="url(#sideGrad)" stroke="#2c9a7e" stroke-width="2"/>

        <!-- "BMO" text on side -->
        <text x="170" y="85" font-family="'Arial Black', 'Impact', sans-serif" font-weight="900" font-size="22" fill="#1a6650" text-anchor="middle">B</text>
        <text x="170" y="115" font-family="'Arial Black', 'Impact', sans-serif" font-weight="900" font-size="22" fill="#1a6650" text-anchor="middle">M</text>
        <text x="170" y="145" font-family="'Arial Black', 'Impact', sans-serif" font-weight="900" font-size="22" fill="#1a6650" text-anchor="middle">O</text>

        <!-- Speaker dots on side (4 rows × 3 cols) -->
        <g fill="#1a6650">
          <circle cx="163" cy="162" r="2.5"/><circle cx="170" cy="162" r="2.5"/><circle cx="177" cy="162" r="2.5"/>
          <circle cx="163" cy="170" r="2.5"/><circle cx="170" cy="170" r="2.5"/><circle cx="177" cy="170" r="2.5"/>
          <circle cx="163" cy="178" r="2.5"/><circle cx="170" cy="178" r="2.5"/><circle cx="177" cy="178" r="2.5"/>
          <circle cx="163" cy="186" r="2.5"/><circle cx="170" cy="186" r="2.5"/><circle cx="177" cy="186" r="2.5"/>
          <circle cx="163" cy="194" r="2.5"/><circle cx="170" cy="194" r="2.5"/><circle cx="177" cy="194" r="2.5"/>
        </g>

        <!-- Top face (3D perspective) -->
        <path d="M28,22 L58,10 L185,10 L155,22 Z" fill="url(#topGrad)" stroke="#2c9a7e" stroke-width="2"/>

        <!-- Front face -->
        <rect x="28" y="22" width="127" height="228" rx="8" fill="url(#bodyGrad)" stroke="#2c9a7e" stroke-width="2.5"/>

        <!-- ── SCREEN ── -->
        <g id="screen">
          <!-- Screen bezel (thinner) -->
          <rect x="40" y="34" width="103" height="88" rx="5" fill="#3aaa8a"/>
          <!-- Screen display -->
          <rect x="44" y="38" width="95" height="80" rx="3" fill="url(#screenGrad)"/>

          <!-- ── LEFT EYE (simple oval dot) ── -->
          <g id="left-eye">
            <ellipse cx="72" cy="70" rx="4.5" ry="5.5" fill="#2c3e50"/>
          </g>

          <!-- ── RIGHT EYE (simple oval dot) ── -->
          <g id="right-eye">
            <ellipse cx="112" cy="70" rx="4.5" ry="5.5" fill="#2c3e50"/>
          </g>

          <!-- ── MOUTH ── -->
          <g id="mouth">
            <path id="mouth-path" d="M78,96 Q92,104 108,96" stroke="#2c3e50" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          </g>
        </g>

        <!-- ── Small dark dot (indicator) ── -->
        <circle cx="130" cy="132" r="4" fill="#1a6650"/>

        <!-- ── CARD SLOT ── -->
        <rect x="52" y="134" width="65" height="9" rx="3" fill="#1a4a3a" stroke="#2c9a7e" stroke-width="0.8"/>

        <!-- ── D-PAD (yellow, bigger) ── -->
        <g id="dpad">
          <rect x="44" y="166" width="32" height="12" rx="2.5" fill="#f0c030" stroke="#d4a820" stroke-width="1.2"/>
          <rect x="54" y="156" width="12" height="32" rx="2.5" fill="#f0c030" stroke="#d4a820" stroke-width="1.2"/>
        </g>

        <!-- ── TRIANGLE button (blue, bigger) ── -->
        <polygon points="104,160 96,174 112,174" fill="#4fb8e0" stroke="#3a9cc4" stroke-width="1.2"/>

        <!-- ── CIRCLE button (green, bigger) ── -->
        <circle cx="126" cy="168" r="6.5" fill="#5cc460" stroke="#48a84c" stroke-width="1.2"/>

        <!-- ── BIG RED BUTTON ── -->
        <circle cx="118" cy="192" r="11" fill="#e74c3c" stroke="#c0392b" stroke-width="1.8"/>
        <circle cx="115" cy="189" r="4" fill="rgba(255,255,255,0.25)"/>

        <!-- ── Bottom speaker grilles (two pill shapes) ── -->
        <g fill="#2c9a7e">
          <rect x="54" y="216" width="22" height="5" rx="2.5"/>
          <rect x="82" y="216" width="22" height="5" rx="2.5"/>
        </g>

        <!-- ── Headphone jack on right side ── -->
        <circle cx="155" cy="210" r="4" fill="#1a4a3a" stroke="#2c9a7e" stroke-width="1"/>
        <path d="M155,214 Q158,225 152,230" stroke="#2c9a7e" stroke-width="1.5" fill="none" stroke-linecap="round"/>
      </g>

      <!-- ═══ LEGS (longer, thinner, ~40% of total height) ═══ -->
      <g id="legs">
        <!-- Left leg -->
        <rect x="58" y="248" width="12" height="70" rx="6" fill="#3cb89a" stroke="#2c9a7e" stroke-width="1.5"/>
        <!-- Left foot (small nub) -->
        <ellipse cx="64" cy="320" rx="11" ry="5" fill="#2c9a7e"/>

        <!-- Right leg -->
        <rect x="122" y="248" width="12" height="70" rx="6" fill="#3cb89a" stroke="#2c9a7e" stroke-width="1.5"/>
        <!-- Right foot (small nub) -->
        <ellipse cx="128" cy="320" rx="11" ry="5" fill="#2c9a7e"/>
      </g>
    </svg>
  </div>
</div>

<script src="bmo.js"></script>
</body>
</html>
