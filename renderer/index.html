<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>JoeMac Avatar</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: transparent;
    -webkit-app-region: no-drag;
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }

  #app {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    padding-bottom: 10px;
    position: relative;
    user-select: none;
  }

  /* ─── Speech bubble ─── */
  #speech-bubble {
    position: absolute;
    bottom: calc(100% - 40px);
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.96);
    color: #1a1a2e;
    border-radius: 14px;
    padding: 10px 14px;
    max-width: 250px;
    width: max-content;
    font-size: 13px;
    font-weight: 500;
    line-height: 1.4;
    word-wrap: break-word;
    white-space: pre-wrap;
    box-shadow: 0 4px 20px rgba(0,0,0,0.18), 0 1px 4px rgba(0,0,0,0.10);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 100;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.12));
  }
  #speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0; height: 0;
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-top: 9px solid rgba(255,255,255,0.96);
  }
  #speech-bubble.visible { opacity: 1; }

  /* ─── BMO container ─── */
  #bmo-wrapper {
    position: relative;
    width: 240px;
    height: 360px;
    -webkit-app-region: drag;
    cursor: grab;
  }
  #bmo-wrapper:active { cursor: grabbing; }
  #bmo-wrapper svg { width: 100%; height: 100%; overflow: visible; }

  /* ─── IDLE float ─── */
  @keyframes bmo-float {
    0%, 100% { transform: translateY(0px) scaleY(1); }
    40%      { transform: translateY(-7px) scaleY(1.01); }
    60%      { transform: translateY(-5px) scaleY(1.01); }
  }
  #bmo-wrapper {
    animation: bmo-float 4s ease-in-out infinite;
    transform-origin: center bottom;
  }

  /* ─── WAVE ─── */
  @keyframes arm-wave {
    0%   { transform: rotate(0deg); }
    15%  { transform: rotate(-50deg) translateY(-4px); }
    30%  { transform: rotate(-15deg) translateY(-2px); }
    45%  { transform: rotate(-55deg) translateY(-5px); }
    60%  { transform: rotate(-20deg) translateY(-3px); }
    75%  { transform: rotate(-50deg) translateY(-4px); }
    100% { transform: rotate(0deg); }
  }
  #right-arm.wave {
    animation: arm-wave 0.55s ease-in-out 3;
    transform-origin: 178px 108px;
  }

  /* ─── THINKING ─── */
  @keyframes bmo-think {
    0%, 100% { transform: translateY(0px); }
    50%      { transform: translateY(-3px); }
  }
  #bmo-wrapper.thinking { animation: bmo-think 1.5s ease-in-out infinite; }

  @keyframes arm-think {
    0%, 100% { transform: rotate(0deg); }
    50%      { transform: rotate(35deg) translateY(-8px); }
  }
  #left-arm.thinking {
    animation: arm-think 1.5s ease-in-out infinite;
    transform-origin: 22px 108px;
  }

  @keyframes eye-look-side {
    0%, 100% { transform: translateX(0); }
    50%      { transform: translateX(3px); }
  }
  #bmo-wrapper.thinking #left-eye,
  #bmo-wrapper.thinking #right-eye {
    animation: eye-look-side 1.5s ease-in-out infinite;
  }

  /* ─── SPEAKING ─── */
  @keyframes bmo-speak-bob {
    0%, 100% { transform: translateY(0px); }
    25%      { transform: translateY(-3px); }
    75%      { transform: translateY(-1px); }
  }
  #bmo-wrapper.speaking { animation: bmo-speak-bob 0.35s ease-in-out infinite; }

  @keyframes arm-gesture-left {
    0%, 100% { transform: rotate(0deg); }
    30%      { transform: rotate(-15deg); }
    60%      { transform: rotate(10deg); }
  }
  @keyframes arm-gesture-right {
    0%, 100% { transform: rotate(0deg); }
    30%      { transform: rotate(15deg); }
    60%      { transform: rotate(-10deg); }
  }
  #bmo-wrapper.speaking #left-arm {
    animation: arm-gesture-left 0.6s ease-in-out infinite;
    transform-origin: 22px 108px;
  }
  #bmo-wrapper.speaking #right-arm {
    animation: arm-gesture-right 0.6s ease-in-out 0.1s infinite;
    transform-origin: 178px 108px;
  }

  @keyframes screen-glow {
    0%, 100% { filter: brightness(1) drop-shadow(0 0 3px rgba(120,230,200,0.3)); }
    50%      { filter: brightness(1.1) drop-shadow(0 0 8px rgba(120,230,200,0.6)); }
  }
  #bmo-wrapper.speaking #screen { animation: screen-glow 0.5s ease-in-out infinite; }

  /* ─── HAPPY ─── */
  @keyframes bmo-bounce {
    0%, 100% { transform: translateY(0px) scale(1); }
    30%      { transform: translateY(-12px) scale(1.03); }
    50%      { transform: translateY(-8px) scale(1.02); }
    70%      { transform: translateY(-14px) scale(1.03); }
  }
  #bmo-wrapper.happy { animation: bmo-bounce 0.6s ease-in-out 2; }

  @keyframes arms-happy {
    0%, 100% { transform: rotate(0deg); }
    40%      { transform: rotate(-55deg) translateY(-10px); }
    70%      { transform: rotate(-45deg) translateY(-8px); }
  }
  #bmo-wrapper.happy #left-arm {
    animation: arms-happy 0.6s ease-in-out 2;
    transform-origin: 22px 108px;
  }
  #bmo-wrapper.happy #right-arm {
    animation: arms-happy 0.6s ease-in-out 2 0.05s;
    transform-origin: 178px 108px;
  }

  /* ─── BLINK ─── */
  @keyframes blink {
    0%, 90%, 100% { transform: scaleY(1); }
    95%           { transform: scaleY(0.05); }
  }
  .blinking {
    animation: blink 0.18s ease-in-out;
    transform-origin: center;
  }
</style>
</head>
<body>
<div id="app">
  <div id="speech-bubble"></div>

  <div id="bmo-wrapper">
    <svg viewBox="0 0 200 340" xmlns="http://www.w3.org/2000/svg" id="bmo-svg">
      <defs>
        <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#5de8c8" />
          <stop offset="100%" stop-color="#4acfb0" />
        </linearGradient>
        <linearGradient id="sideGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#3cb89a" />
          <stop offset="100%" stop-color="#2fa384" />
        </linearGradient>
        <linearGradient id="screenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#a8f0d8" />
          <stop offset="100%" stop-color="#88e4c8" />
        </linearGradient>
      </defs>

      <!-- ═══ LEFT ARM ═══ -->
      <g id="left-arm">
        <path d="M32,112 Q18,118 12,135 Q8,148 16,152" stroke="#3cb89a" stroke-width="8" fill="none" stroke-linecap="round"/>
        <ellipse cx="16" cy="154" rx="7" ry="5" fill="#4acfb0" stroke="#2c8a6e" stroke-width="1.5"/>
      </g>

      <!-- ═══ RIGHT ARM ═══ -->
      <g id="right-arm">
        <path d="M168,112 Q182,118 188,135 Q192,148 184,152" stroke="#3cb89a" stroke-width="8" fill="none" stroke-linecap="round"/>
        <ellipse cx="184" cy="154" rx="7" ry="5" fill="#4acfb0" stroke="#2c8a6e" stroke-width="1.5"/>
      </g>

      <!-- ═══ BODY (3D box) ═══ -->
      <g id="body">
        <!-- Right side panel (darker, perspective) -->
        <path d="M155,28 L175,18 L175,218 L155,228 Z" fill="url(#sideGrad)" stroke="#2c8a6e" stroke-width="2"/>
        
        <!-- "BMO" text on side -->
        <text x="165" y="90" font-family="Arial Black, Arial" font-weight="900" font-size="18" fill="#1a5c4a" transform="rotate(0)" text-anchor="middle">B</text>
        <text x="165" y="115" font-family="Arial Black, Arial" font-weight="900" font-size="18" fill="#1a5c4a" text-anchor="middle">M</text>
        <text x="165" y="140" font-family="Arial Black, Arial" font-weight="900" font-size="18" fill="#1a5c4a" text-anchor="middle">O</text>
        
        <!-- Speaker dots on side -->
        <g fill="#1a5c4a">
          <circle cx="160" cy="158" r="2"/><circle cx="167" cy="158" r="2"/><circle cx="174" cy="158" r="2"/>
          <circle cx="160" cy="165" r="2"/><circle cx="167" cy="165" r="2"/><circle cx="174" cy="165" r="2"/>
          <circle cx="160" cy="172" r="2"/><circle cx="167" cy="172" r="2"/><circle cx="174" cy="172" r="2"/>
          <circle cx="160" cy="179" r="2"/><circle cx="167" cy="179" r="2"/><circle cx="174" cy="179" r="2"/>
        </g>

        <!-- Top face (3D perspective) -->
        <path d="M30,28 L50,18 L175,18 L155,28 Z" fill="#6cf0d4" stroke="#2c8a6e" stroke-width="2"/>

        <!-- Front face -->
        <rect x="30" y="28" width="125" height="200" rx="8" fill="url(#bodyGrad)" stroke="#2c8a6e" stroke-width="2.5"/>

        <!-- ── SCREEN ── -->
        <g id="screen">
          <!-- Screen bezel -->
          <rect x="42" y="40" width="100" height="80" rx="6" fill="#3aab8a"/>
          <!-- Screen display -->
          <rect x="46" y="44" width="92" height="72" rx="4" fill="url(#screenGrad)"/>

          <!-- ── LEFT EYE (simple dot) ── -->
          <g id="left-eye">
            <ellipse cx="72" cy="72" rx="4" ry="5" fill="#2c3e50"/>
          </g>

          <!-- ── RIGHT EYE (simple dot) ── -->
          <g id="right-eye">
            <ellipse cx="112" cy="72" rx="4" ry="5" fill="#2c3e50"/>
          </g>

          <!-- ── MOUTH ── -->
          <g id="mouth">
            <path id="mouth-path" d="M78,92 Q92,100 108,92" stroke="#2c3e50" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          </g>
        </g>

        <!-- ── Small dark circle (above card slot) ── -->
        <circle cx="130" cy="130" r="3.5" fill="#1a5c4a"/>

        <!-- ── CARD SLOT ── -->
        <rect x="55" y="132" width="60" height="8" rx="2" fill="#1a3a30" stroke="#2c8a6e" stroke-width="1"/>

        <!-- ── D-PAD (yellow) ── -->
        <g id="dpad">
          <rect x="48" y="161" width="28" height="10" rx="2" fill="#f0c040" stroke="#d4a830" stroke-width="1.2"/>
          <rect x="56" y="153" width="12" height="26" rx="2" fill="#f0c040" stroke="#d4a830" stroke-width="1.2"/>
        </g>

        <!-- ── TRIANGLE button (blue) ── -->
        <polygon points="104,158 98,168 110,168" fill="#4fb8e0" stroke="#3a9cc4" stroke-width="1"/>

        <!-- ── CIRCLE button (green) ── -->
        <circle cx="122" cy="165" r="5" fill="#5cc460" stroke="#48a84c" stroke-width="1"/>

        <!-- ── BIG RED BUTTON ── -->
        <circle cx="115" cy="183" r="9" fill="#e74c3c" stroke="#c0392b" stroke-width="1.5"/>
        <circle cx="113" cy="181" r="3" fill="rgba(255,255,255,0.25)"/>

        <!-- ── Bottom speaker grilles (two pill shapes) ── -->
        <g fill="#2c8a6e">
          <rect x="56" y="202" width="18" height="5" rx="2.5"/>
          <rect x="80" y="202" width="18" height="5" rx="2.5"/>
        </g>
      </g>

      <!-- ═══ LEGS ═══ -->
      <g id="legs">
        <!-- Left leg -->
        <rect x="60" y="225" width="14" height="50" rx="7" fill="#3cb89a" stroke="#2c8a6e" stroke-width="1.5"/>
        <!-- Left foot -->
        <ellipse cx="67" cy="278" rx="14" ry="6" fill="#2c8a6e"/>

        <!-- Right leg -->
        <rect x="120" y="225" width="14" height="50" rx="7" fill="#3cb89a" stroke="#2c8a6e" stroke-width="1.5"/>
        <!-- Right foot -->
        <ellipse cx="127" cy="278" rx="14" ry="6" fill="#2c8a6e"/>
      </g>
    </svg>
  </div>
</div>

<script src="bmo.js"></script>
</body>
</html>
